# Fly.io configuration for catty-exec (executor app)
#
# This app hosts per-session Fly Machines.
# Machines are created dynamically by the local API server.
#
# One-time setup:
#   fly apps create catty-exec
#   fly ips allocate-v4 --shared -a catty-exec
#   fly deploy

app = "catty-exec"
primary_region = "iad"

[build]
  dockerfile = "Dockerfile"

[http_service]
  internal_port = 8080
  force_https = true
  auto_stop_machines = false
  auto_start_machines = false

[http_service.concurrency]
  type = "connections"
  hard_limit = 100
  soft_limit = 50
